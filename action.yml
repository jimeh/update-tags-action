name: "update-tags-action"
description: "Easily create/update one or more tags in a GitHub repository."
author: "jimeh"

branding:
  icon: "tag"
  color: "blue"

inputs:
  tags:
    description: "List/CSV of tags to create/update."
    required: true
  ref:
    description: "The SHA or ref to tag. Defaults to SHA of current commit."
    required: false
    default: "${{ github.sha }}"
  parse:
    description: >-
      Version string to parse as SemVer and expose in the tags input via
      templating.
    required: false
    default: ""
  when_exists:
    description: >-
      What to do if the tag already exists. Must be one of 'update', 'skip',
      'warn', or 'fail'.
    required: false
    default: "update"
  when_parse_fails:
    description: >-
      What to do with non-empty `parse` input that fails to parse as a Semantic
      Version. Must be one of 'warn' or 'fail'.
    required: false
    default: "fail"
  skip_prerelease:
    description: >-
      When `parse` input is pre-release version, should templated tags be
      skipped?
    required: false
    default: "true"
  github_token:
    description: "The GitHub token to use for authentication."
    required: false
    default: ${{ github.token }}

outputs:
  tags:
    description: "List of tags that were created/updated."
  created:
    description: "List of tags that were created."
  updated:
    description: "List of tags that were updated."

runs:
  using: "node16"
  main: "dist/index.js"
